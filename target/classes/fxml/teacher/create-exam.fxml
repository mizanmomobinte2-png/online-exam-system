<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<ScrollPane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.onlineexam.controller.CreateExamController"
            fitToWidth="true" stylesheets="@/styles/style.css">
    <BorderPane prefWidth="800">
        <left>
            <VBox styleClass="sidebar" prefWidth="180" spacing="5">
                <padding><Insets top="20" right="10" bottom="20" left="10"/></padding>
                <Label text="Teacher Portal" style="-fx-text-fill: white; -fx-font-weight: bold;"/>
                <Separator style="-fx-background-color: #34495e;"/>
                <Button text="Dashboard" onAction="#goToDashboard" styleClass="sidebar-button" maxWidth="Infinity"/>
                <Button text="Create Exam" onAction="#goToCreateExam" styleClass="sidebar-button" maxWidth="Infinity"/>
                <Button text="My Exams" onAction="#goToMyExams" styleClass="sidebar-button" maxWidth="Infinity"/>
                <Button text="Results &amp; Reports" onAction="#goToResults" styleClass="sidebar-button" maxWidth="Infinity"/>
                <Region VBox.vgrow="ALWAYS"/>
                <Button text="Logout" onAction="#logout" styleClass="sidebar-button" maxWidth="Infinity"/>
            </VBox>
        </left>
        <center>
            <VBox fx:id="examForm" spacing="15">
                <padding><Insets top="30" right="30" bottom="30" left="30"/></padding>
                <Label text="Create New Exam" styleClass="form-title"/>
                <TextField fx:id="titleField" promptText="Exam Title" prefWidth="400"/>
                <TextArea fx:id="descriptionField" promptText="Description" prefRowCount="3" prefWidth="400"/>
                <HBox spacing="20">
                    <VBox spacing="5">
                        <Label text="Duration (minutes)"/>
                        <TextField fx:id="durationField" promptText="60" prefWidth="120"/>
                    </VBox>
                    <VBox spacing="5">
                        <Label text="Total Marks"/>
                        <TextField fx:id="totalMarksField" promptText="100" prefWidth="120"/>
                    </VBox>
                    <VBox spacing="5">
                        <Label text="Passing Marks"/>
                        <TextField fx:id="passingMarksField" promptText="40" prefWidth="120"/>
                    </VBox>
                </HBox>
                <Separator/>
                <Label text="Add Questions" style="-fx-font-weight: bold;"/>
                <HBox spacing="10">
                    <Button text="Add Question Manually" onAction="#addQuestion" styleClass="primary-button"/>
                    <Button text="Import from Excel" onAction="#importFromExcel" styleClass="secondary-button"/>
                    <Button text="Download Template" onAction="#downloadTemplate" styleClass="secondary-button"/>
                </HBox>
                <TableView fx:id="questionsTable" prefHeight="250">
                    <columns>
                        <TableColumn fx:id="qTextCol" text="Question" prefWidth="300"/>
                        <TableColumn fx:id="correctCol" text="Correct" prefWidth="60"/>
                        <TableColumn fx:id="marksCol" text="Marks" prefWidth="60"/>
                        <TableColumn fx:id="removeCol" text="" prefWidth="80"/>
                    </columns>
                </TableView>
                <Label fx:id="errorLabel" styleClass="error-label" wrapText="true" visible="false"/>
                <HBox spacing="10">
                    <Button text="Save as Draft" onAction="#saveDraft" styleClass="secondary-button"/>
                    <Button text="Publish Exam" onAction="#publishExam" styleClass="primary-button"/>
                    <Button text="Cancel" onAction="#goToMyExams" styleClass="secondary-button"/>
                </HBox>
            </VBox>
        </center>
    </BorderPane>
</ScrollPane>
